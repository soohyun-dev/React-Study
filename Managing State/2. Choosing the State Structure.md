## Choosing the State Structure

### ğŸ“Œ í•™ìŠµ ëª©í‘œ

- ë‹¨ì¼ state ë³€ìˆ˜ì™€ ë‹¤ìˆ˜ì˜ state ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ê²½ìš°
- stateë¥¼ êµ¬ì„±í• ë•Œ í”¼í•´ì•¼ í•  ê²ƒ
- state êµ¬ì¡°ì˜ ì¼ë°˜ì ì¸ ë¬¸ì œë¥¼ í•´ê²° í•˜ëŠ” ë°©ë²•

---

### state êµ¬ì¡°í™” ì›ì¹™

1. ê·¸ë£¹ ê´€ë ¨ state. í•­ìƒ ë‘ ê°œ ì´ìƒì˜ state ë³€ìˆ˜ë¥¼ ë™ì‹œì— ì—…ë°ì´íŠ¸í•˜ëŠ” ê²½ìš° ë‹¨ì¸ stateë¡œ ë³‘í•©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.

2. stateì˜ ëª¨ìˆœì„ í”¼í•˜ë¼.

3. ë Œë”ë§ ì¤‘ì— ì»´í¬ë„ŒíŠ¸ì˜ props ë˜ëŠ” ê¸°ì¡´ state ë³€ìˆ˜ì—ì„œ ì¼ë¶€ ì •ë³´ë¥¼ ê³„ì‚°í•  ìˆ˜ ìˆë‹¤ë©´, í•´ë‹¹ ì •ë³´ë¥¼ ì»´í¬ë„ŒíŠ¸ì˜ ìƒíƒœì— ì…ë ¥í•´ì„œëŠ” ì•ˆëœë‹¤.

4. stateì—ì„œ ì¤‘ë³µì„ í”¼í•˜ì—¬ë¼.

5. ê¹Šê²Œ ì¤‘ì²©ëœ stateë¥¼ í”¼í•˜ì—¬ë¼.

- ì´ëŸ¬í•œ ì›ì¹™ì˜ ì´ë©´ì— ìˆëŠ” ëª©í‘œëŠ” ì‹¤ìˆ˜ ì—†ì´ stateë¥¼ ì‰½ê²Œ ì—…ë°ì´íŠ¸ í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê²ƒ.

## state ê·¸ë£¹ ì§“ê¸°

```javascript
const [x, setX] = useState(0);
const [y, setY] = useState(0);
```

<br>

```javascript
const [position, setPosition] = useState({ x: 0, y: 0 });
```

- ë‘ê°œì˜ ìƒíƒœ ë³€ìˆ˜ê°€ í•­ìƒ í•¨ê»˜ ë³€ê²½ë˜ëŠ” ê²½ìš° ë‹¨ì¼ stateë¡œ í†µì¼

<br>

## stateì˜ ëª¨ìˆœ í”¼í•˜ê¸°

```javascript
export default function FeedbackForm() {
  const [text, setText] = useState('');
  const [isSending, setIsSending] = useState(false);
  const [isSent, setIsSent] = useState(false);

  async function handleSubmit(e) {
    e.preventDefault();
    setIsSending(true);
    await sendMessage(text);
    setIsSending(false);
    setIsSent(true);
  }
  .
  .
  .
}
```

- isSendingê³¼ isSentëŠ” ë™ì‹œì— ì°¸ì´ ë˜ì–´ì„œëŠ” ì•ˆ ë˜ë¯€ë¡œ `typing` (initial), `sending`, and `sent` ì„¸ ê°€ì§€ ìœ íš¨í•œ ìƒíƒœ ì¤‘ í•˜ë‚˜ë¥¼ ì·¨í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.

```javascript
export default function FeedbackForm() {
  const [text, setText] = useState("");
  const [status, setStatus] = useState("typing");

  async function handleSubmit(e) {
    e.preventDefault();
    setStatus("sending");
    await sendMessage(text);
    setStatus("sent");
  }

  const isSending = status === "sending";
  const isSent = status === "sent";
  .
  .
  .
}
```

<br>

## stateì˜ ì¤‘ë³µ í”¼í•˜ê¸°

```javascript
export default function Form() {
  const [firstName, setFirstName] = useState('');
  const [lastName, setLastName] = useState('');
  const [fullName, setFullName] = useState('');

  function handleFirstNameChange(e) {
    setFirstName(e.target.value);
    setFullName(e.target.value + ' ' + lastName);
  }

  function handleLastNameChange(e) {
    setLastName(e.target.value);
    setFullName(firstName + ' ' + e.target.value);
  }
  .
  .
  .
}
```

- firstNameê³¼ lastNameìœ¼ë¡œ fullNameì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

<br>

```javascript
export default function Form() {
  const [firstName, setFirstName] = useState('');
  const [lastName, setLastName] = useState('');

  const fullName = firstName + ' ' + lastName;

  function handleFirstNameChange(e) {
    setFirstName(e.target.value);
  }

  function handleLastNameChange(e) {
    setLastName(e.target.value);
  }
  .
  .
  .
}
```

### stateì—ì„œ ì¤‘ë³µ í”¼í•˜ê¸°

```javascript
const initialItems = [
  { title: "pretzels", id: 0 },
  { title: "crispy seaweed", id: 1 },
  { title: "granola bar", id: 2 },
];

export default function Menu() {
  const [items, setItems] = useState(initialItems);
  const [selectedItem, setSelectedItem] = useState(items[0]);

  function handleItemChange(id, e) {
    setItems(
      items.map((item) => {
        if (item.id === id) {
          return {
            ...item,
            title: e.target.value,
          };
        } else {
          return item;
        }
      })
    );
  }
  return (
    <>
      <h2>What's your travel snack?</h2>
      <ul>
        {items.map((item, index) => (
          <li key={item.id}>
            <input
              value={item.title}
              onChange={(e) => {
                handleItemChange(item.id, e);
              }}
            />{" "}
            <button
              onClick={() => {
                setSelectedItem(item);
              }}
            >
              Choose
            </button>
          </li>
        ))}
      </ul>
      <p>You picked {selectedItem.title}.</p>
    </>
  );
}
```

- ìœ„ì½”ë“œëŠ” ìˆ˜ì •í•˜ë©´ ë°”ë¡œ ë°˜ì˜ì´ ì•ˆë¨.
- `selectedItem` í•˜ëŠ” ê²ƒì„ ìŠê¸° ë•Œë¬¸.

```javascript
const initialItems = [
  { title: "pretzels", id: 0 },
  { title: "crispy seaweed", id: 1 },
  { title: "granola bar", id: 2 },
];

export default function Menu() {
  const [items, setItems] = useState(initialItems);
  const [selectedId, setSelectedId] = useState(0);

  const selectedItem = items.find((item) => item.id === selectedId);

  function handleItemChange(id, e) {
    setItems(
      items.map((item) => {
        if (item.id === id) {
          return {
            ...item,
            title: e.target.value,
          };
        } else {
          return item;
        }
      })
    );
  }
  return (
    <>
      <h2>What's your travel snack?</h2>
      <ul>
        {items.map((item, index) => (
          <li key={item.id}>
            <input
              value={item.title}
              onChange={(e) => {
                handleItemChange(item.id, e);
              }}
            />{" "}
            <button
              onClick={() => {
                setSelectedId(item.id);
              }}
            >
              Choose
            </button>
          </li>
        ))}
      </ul>
      <p>You picked {selectedItem.title}.</p>
    </>
  );
}
```

<br>

### ê¹Šê²Œ ì¤‘ì²©ëœ ìƒíƒœ í”¼í•˜ê¸°

```javascript
  47: {
    id: 47,
    title: 'Mars',
    childIds: [48, 49]
  },
  48: {
    id: 48,
    title: 'Corn Town',
    childIds: []
  },
```

- í•˜ìœ„ ì¥ì†Œ IDì˜ ë°°ì—´ì„ ë³´ìœ í•˜ë„ë¡ í•¨.
- flateì„ ìœ ì§€.

<br>

## ğŸ‘¨â€ğŸ’» ì •ë¦¬

- ë‘ state ë³€ìˆ˜ê°€ í•­ìƒ í•¨ê»˜ ì—…ë°ì´íŠ¸ë˜ëŠ” ê²½ìš° í•˜ë‚˜ë¡œ ë³‘í•©
- "ë¶ˆê°€ëŠ¥"í•œ stateê°€ ìƒì„±ë˜ì§€ ì•Šë„ë¡ state ë³€ìˆ˜ë¥¼ ì‹ ì¤‘í•˜ê²Œ ì„ íƒ
- ì‹¤ìˆ˜ë¡œ ì—…ë°ì´íŠ¸í•  ê°€ëŠ¥ì„±ì„ ì¤„ì´ëŠ” ë°©ì‹ìœ¼ë¡œ stateë¥¼ êµ¬ì„±
- ë™ê¸°í™” ìƒíƒœë¥¼ ìœ ì§€í•  í•„ìš”ê°€ ì—†ë„ë¡ ì¤‘ë³µ ë° ì¤‘ë³µ ìƒíƒœ í”¼í•˜ê¸°
- íŠ¹ë³„íˆ ì—…ë°ì´íŠ¸ë¥¼ ë°©ì§€í•˜ë ¤ëŠ” ê²½ìš°ê°€ ì•„ë‹ˆë©´ propsë¥¼ stateì— ë„£ì§€ ë§ê¸°
- ì„ íƒê³¼ ê°™ì€ UI íŒ¨í„´ì˜ ê²½ìš° ê°œì²´ ìì²´ ëŒ€ì‹  ID ë˜ëŠ” ì¸ë±ìŠ¤ë¥¼ ìƒíƒœë¡œ ìœ ì§€
- ê¹Šê²Œ ì¤‘ì²©ëœ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸ í•˜ëŠ” ê²ƒì´ ë³µì¡í•œ ê²½ìš° í‰ë©´í™”ë¥¼ ì‹œë„.
