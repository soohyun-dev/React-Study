## Updating Objects in State

### ğŸ“Œ í•™ìŠµ ëª©í‘œ

- React stateì—ì„œ ê°ì²´ë¥¼ ì˜¬ë°”ë¥´ê²Œ ì—…ë°ì´íŠ¸í•˜ëŠ” ë°©ë²•
- ì¤‘ì²©ëœ ê°ì²´ë¥¼ ë³€ê²½í•˜ì§€ ì•Šê³  ì—…ë°ì´íŠ¸í•˜ëŠ” ë°©ë²•
- ë¶ˆë³€ì„±ì´ë€ ë¬´ì—‡ì¸ì§€, ê·¸ë¦¬ê³  ë¶ˆë³€ì„±ì„ ì§€í‚¤ëŠ” ë°©ë²•
- Immerë¡œ ë°˜ë³µì„ ì¤„ì—¬ ê°ì²´ë¥¼ ë³µì‚¬í•˜ëŠ” ë°©ë²•

---

<br>

### ë³€ê²½ì´ë€?

```javascript
const [position, setPosition] = useState({ x: 0, y: 0 });

setPosition.x = 5;
```

- ê°ì²´ ìì²´ì˜ ë‚´ìš©ì„ ë°”ê¿€ ìˆ˜ëŠ” ìˆë‹¤.
- í•˜ì§€ë§Œ ë¦¬ì•¡íŠ¸ stateëŠ” ë³€ê²½ ê°€ëŠ¥í• ì§€ë¼ë„ ë¶ˆë³€ì„±ì„ ê°€ì§„ ê²ƒì²˜ëŸ¼ ë‹¤ë£¨ì–´ì•¼ í•œë‹¤.
- ê°ì²´ë¥¼ ë³€ê²½í•˜ëŠ” ëŒ€ì‹  êµì²´í•´ì•¼í•œë‹¤.

#### ì¦‰, stateëŠ” ì½ê¸° ì „ìš©ì²˜ëŸ¼ ë‹¤ë£¨ì.

<br>

- reactì—ì„œ state ì„¤ì • í•¨ìˆ˜ê°€ ì—†ìœ¼ë©´ ê°ì²´ê°€ ë³€ê²½ë˜ì—ˆëŠ”ì§€ ì•Œ ìˆ˜ ì—†ë‹¤.

<br>

ì„¤ì •í•¨ìˆ˜ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ìš”ì²­í•œë‹¤.

- positionì„ ì´ ìƒˆë¡œìš´ ê°ì²´ë¡œ êµì²´í•˜ë¼.
- êµì²´ í›„ ì´ ì»´í¬ë„ŒíŠ¸ë¥¼ ë‹¤ì‹œ ë Œë”ë§í•˜ë¼.

<br>

### ìŠ¤í”„ë ˆë“œ ë¬¸ë²•ìœ¼ë¡œ ê°ì²´ copyí•˜ê¸°

```javascript
import { useState } from "react";

export default function Form() {
  const [person, setPerson] = useState({
    firstName: "Barbara",
    lastName: "Hepworth",
    email: "bhepworth@sculpture.com",
  });

  function handleChange(e) {
    setPerson({
      ...person,
      [e.target.name]: e.target.value,
    });
  }

  return (
    <>
      <label>
        First name:
        <input
          name="firstName"
          value={person.firstName}
          onChange={handleChange}
        />
      </label>
      <label>
        Last name:
        <input
          name="lastName"
          value={person.lastName}
          onChange={handleChange}
        />
      </label>
      <label>
        Email:
        <input name="email" value={person.email} onChange={handleChange} />
      </label>
      <p>
        {person.firstName} {person.lastName} ({person.email})
      </p>
    </>
  );
}
```

- ìŠ¤í”„ë ˆë“œ ë¬¸ë²•ì„ ì‚¬ìš©í•˜ì—¬ ê¸°ì¡´ì— ì¡´ì¬í•˜ëŠ” ë‹¤ë¥¸ ë°ì´í„°ë“¤ë„ ë³µì‚¬í•´ì•¼í•œë‹¤.

<br>

## Immer

<br>

```javascript
import { useState } from "react";

export default function Form() {
  const [person, setPerson] = useState({
    name: "Niki de Saint Phalle",
    artwork: {
      title: "Blue Nana",
      city: "Hamburg",
      image: "https://i.imgur.com/Sd1AgUOm.jpg",
    },
  });

  function handleNameChange(e) {
    setPerson({
      ...person,
      name: e.target.value,
    });
  }

  function handleTitleChange(e) {
    setPerson({
      ...person,
      artwork: {
        ...person.artwork,
        title: e.target.value,
      },
    });
  }

  function handleCityChange(e) {
    setPerson({
      ...person,
      artwork: {
        ...person.artwork,
        city: e.target.value,
      },
    });
  }

  function handleImageChange(e) {
    setPerson({
      ...person,
      artwork: {
        ...person.artwork,
        image: e.target.value,
      },
    });
  }
}
```

<br>

- ìœ„ ì½”ë“œëŠ” `useImmer`ì„ ì‚¬ìš©í•˜ì—¬ ì•„ë˜ì½”ë“œì²˜ëŸ¼ ë°”ê¿€ ìˆ˜ ìˆë‹¤.

<br>

```javascript
import { useImmer } from "use-immer";

export default function Form() {
  const [person, updatePerson] = useImmer({
    name: "Niki de Saint Phalle",
    artwork: {
      title: "Blue Nana",
      city: "Hamburg",
      image: "https://i.imgur.com/Sd1AgUOm.jpg",
    },
  });

  function handleNameChange(e) {
    updatePerson((draft) => {
      draft.name = e.target.value;
    });
  }

  function handleTitleChange(e) {
    updatePerson((draft) => {
      draft.artwork.title = e.target.value;
    });
  }

  function handleCityChange(e) {
    updatePerson((draft) => {
      draft.artwork.city = e.target.value;
    });
  }

  function handleImageChange(e) {
    updatePerson((draft) => {
      draft.artwork.image = e.target.value;
    });
  }

  return (
    <>
      <label>
        Name:
        <input value={person.name} onChange={handleNameChange} />
      </label>
      <label>
        Title:
        <input value={person.artwork.title} onChange={handleTitleChange} />
      </label>
      <label>
        City:
        <input value={person.artwork.city} onChange={handleCityChange} />
      </label>
      <label>
        Image:
        <input value={person.artwork.image} onChange={handleImageChange} />
      </label>
      <p>
        <i>{person.artwork.title}</i>
        {" by "}
        {person.name}
        <br />
        (located in {person.artwork.city})
      </p>
      <img src={person.artwork.image} alt={person.artwork.title} />
    </>
  );
}
```

- ImmerëŠ” ì—…ë°ì´íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ê°„ê²°í•˜ê²Œ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” ì¢‹ì€ ë°©ë²•ì´ë‹¤.
- íŠ¹íˆ, stateê°€ ì¤‘ì²©ë˜ì–´ ìˆê³  ê°ì²´ë¥¼ ë³µì‚¬í•˜ëŠ” ê²ƒì´ ì¤‘ë³µë˜ëŠ” ì½”ë“œë¥¼ ë§Œë“¤ ë•Œ ìœ ìš©í•˜ë‹¤.
- Immerì˜ í•µì‹¬ì€ "ë¶ˆë©´ì„±ì— ì‹ ê²½ ì“°ì§€ ì•ŠëŠ” ê²ƒì²˜ëŸ¼ ì½”ë“œë¥¼ ì‘ì„±í•˜ì§€ë§Œ, ë¶ˆë³€ì„± ê´€ë¦¬ëŠ” ì œëŒ€ë¡œ í•´ì¤€ë‹¤." ì´ë‹¤.

<br>

## ğŸ‘¨â€ğŸ’» ì •ë¦¬

- ë¦¬ì•¡íŠ¸ì˜ stateëŠ” ë¶ˆë³€í•œ ê²ƒìœ¼ë¡œ ë‹¤ë£¨ì–´ë¼.
- stateì— ê°ì²´ë¥¼ ì €ì¥í•  ë•Œ, ê°ì²´ë¥¼ ë³€ê²½í•˜ëŠ” ê²ƒì€ ë Œë”ë§ì„ ë°œìƒì‹œí‚¤ì§€ ì•Šìœ¼ë©° ì´ì „ ë Œë” "ìŠ¤ëƒ…ìƒ·"ì˜ stateë¥¼ ë°”ê¿€ ê²ƒì´ë‹¤.
- ê°ì²´ë¥¼ ë³€ê²½í•˜ëŠ” ëŒ€ì‹  ìƒˆë¡œìš´ ê°ì²´ë¥¼ ìƒì„±í•˜ì—¬ stateë¥¼ ì„¤ì •í•˜ì—¬ ë Œë”ë§ì„ ì¼ìœ¼í‚¤ì.
- ê°ì²´ì˜ ë³µì‚¬ë³¸ì„ ë§Œë“¤ê¸° ìœ„í•´ ìŠ¤í”„ë ˆë“œ ë¬¸ë²•ì„ ì‚¬ìš©í•˜ì.
- ìŠ¤í”„ë ˆë“œ ë¬¸ë²•ì€ ì–•ë‹¤. í•œ ë ˆë²¨ ê¹Šì´ë§Œ ë³µì‚¬í•œë‹¤.
- ì¤‘ì²©ëœ ê°ì²´ë¥¼ ì—…ë°ì´íŠ¸í•˜ ê¸°ìœ„í•´ì„œëŠ” ë³€ê²½í•˜ëŠ” ë¶€ë¶„ë¶€í„° ëª¨ë“  í•­ëª©ì˜ ë³µì‚¬ë³¸ì„ ë§Œë“¤ì–´ì•¼í•œë‹¤.
- ë°˜ë³µì ì¸ ë³µì‚¬ ì½”ë“œë¥¼ ì¤„ì´ê¸° ìœ„í•´ì„œ Immerë¥¼ ì‚¬ìš©í•˜ë¼.
